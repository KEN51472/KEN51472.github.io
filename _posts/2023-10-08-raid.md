---
layout: detail
type : 4
keyword : RAID
title: RAID
description: 
---

## 条带化

条带化（Striping）是一种数据存储技术，用于将数据分散存储在多个磁盘上。在条带化中，数据被分割成固定大小的块，并按顺序依次存储在多个磁盘上。这种分块的方式可以提高数据的读写性能，因为数据可以同时从多个磁盘上读取或写入。

在条带化中，数据块按照固定的顺序依次存储在不同的磁盘上，每个磁盘上存储一部分数据块。例如，如果有4个磁盘，数据块1存储在磁盘1上，数据块2存储在磁盘2上，以此类推。当需要读取数据时，可以同时从多个磁盘上读取数据块，从而提高读取性能。同样，当需要写入数据时，可以将数据块同时写入多个磁盘，从而提高写入性能。

## RAID
RAID（冗余磁盘阵列）是一种数据存储技术，通过将数据分散存储在多个磁盘上，提供数据冗余和/或提高读写性能。

RAID 0：
数据分布：数据被分割成块，并在多个磁盘上并行存储（条带化）。
冗余：没有冗余，所有数据都被分散存储。
性能：RAID 0通过并行读写操作提供了更高的读写性能。
容错性：没有容错能力，如果其中一个磁盘故障，整个阵列的数据都将丢失。

RAID 1：
数据分布：数据被复制到两个磁盘上，实现数据镜像。
冗余：数据完全冗余存储，每个磁盘都包含完整的数据副本。
性能：写入性能相对较低，读取性能与单个磁盘相当。
容错性：如果其中一个磁盘故障，另一个磁盘上的数据仍然可用。

RAID 3：
数据分布：数据被分割成块，并在多个磁盘上并行存储，一个磁盘用于存储奇偶校验信息。(A与B一样时，XOR结果为0，A与B不一样时，XOR结果就是1)
冗余：通过奇偶校验信息实现数据冗余。
性能：读取性能较高，写入性能较低。
容错性：如果其中一个磁盘故障，可以通过奇偶校验信息恢复数据。

```c
eg：

已知数据块abc和aac，acd，计算校验码 

根据RAID 3的原理，校验磁盘上的校验块是通过对每个数据块的对应bit位进行异或（XOR）运算得到的。在这个例子中，假设每个数据块的大小为1字节（8位），校验块也是1字节。

首先，将数据块的内容转换为二进制表示：

块1：abc -> 01100001 01100010 01100011 块2：aac -> 01100001 01100001 01100011 块3：acd -> 01100001 01100011 01100100

接下来，逐位进行异或运算，得到校验块的内容：

第1位：(0 XOR 0 XOR 0) = 0 第2位：(1 XOR 1 XOR 1) = 1 第3位：(1 XOR 1 XOR 1) = 1 第4位：(0 XOR 0 XOR 0) = 0 第5位：(0 XOR 0 XOR 0) = 0 第6位：(0 XOR 0 XOR 0) = 0 第7位：(1 XOR 1 XOR 1) = 1 第8位：(1 XOR 1 XOR 0) = 1

因此，校验块的内容为 01100011，即"c"。

综上所述，对于数据块abc, aac, acd，校验块的内容为"c"。



如果已知数据块abc和aac，以及校验码c，我们可以通过计算进行反推第三个数据块的内容。假设每个数据块的大小为1字节（8位），校验块也是1字节。

首先，将数据块的内容转换为二进制表示：

块1：abc -> 01100001 01100010 01100011 块2：aac -> 01100001 01100001 01100011 校验块：c -> 01100011
                                         
接下来，逐位进行异或运算，反推第三个数据块的内容：

第1位：(0 XOR 0 XOR 0) = 0 第2位：(1 XOR 1 XOR 1) = 1 第3位：(1 XOR 1 XOR 1) = 1 第4位：(0 XOR 0 XOR 0) = 0 第5位：(0 XOR 0 XOR 0) = 0 第6位：(0 XOR 0 XOR 0) = 0 第7位：(1 XOR 1 XOR 1) = 1 第8位：(1 XOR 1 XOR 0) = 1

因此，第三个数据块的内容为 01100011，即"acd"。

综上所述，通过已知的数据块abc、aac和校验块c，可以反推第三个数据块的内容为"acd"。
```

RAID 5：
数据分布：数据和奇偶校验信息被分割成块，并在多个磁盘上并行存储。
冗余：通过奇偶校验信息实现数据冗余。
性能：读取性能较高，写入性能较低。
容错性：如果其中一个磁盘故障，可以通过奇偶校验信息恢复数据。

RAID 6：
数据分布：数据和两个奇偶校验信息被分割成块，并在多个磁盘上并行存储。
冗余：通过两个奇偶校验信息实现更高级别的数据冗余。
性能：读取性能较高，写入性能较低。
容错性：如果其中两个磁盘故障，可以通过奇偶校验信息恢复数据。
总的来说，RAID 0提供了高性能但没有冗余，RAID 1提供了数据冗余但读写性能较低，RAID 3、RAID 5和RAID 6提供了数据冗余和相对较高的读取性能，但写入性能较低。选择适合的RAID级别应根据具体需求平衡性能和冗余要求。


## 相关网站

[参考链接](https://mp.weixin.qq.com/s/BrgMLY1M4h8Hqtm3Px4aBg)    


