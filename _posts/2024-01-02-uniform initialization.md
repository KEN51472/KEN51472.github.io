---
layout: detail
type : 2
keyword :     
title: uniform initialization
description: 
---

统一初始化（uniform initialization）语法，允许使用统一的语法来初始化各种类型的对象，包括基本类型、数组、结构体、类等

## 列表初始化（List Initialization）

使用`{}`初始化对象

```c
int x{5}; // 初始化一个整数
std::vector<int> v{1, 2, 3, 4, 5}; // 初始化一个vector
```

## 直接初始化（Direct Initialization）

使用`()`初始化对象

```c
int x(5); // 初始化一个整数
std::vector<int> v(5, 10); // 初始化一个包含5个元素，每个元素值为10的vector
```

## 复制初始化（Copy Initialization）

使用`=`初始化对象

```c
int x = 5; // 初始化一个整数
```

统一初始化语法的优点在于它简化了初始化对象的语法，可以避免一些传统初始化语法的歧义和问题。eg：使用{}初始化可以防止窄化转换和隐式类型转换，从而提高了代码的安全性


窄化转换：指将一个较大范围的值转换为较小范围的值的操作，可能导致信息丢失。窄化转换可能导致截断或溢出，在一些情况下是不安全的
```c
double d = 3.14;
int i = d; // 这里会发生窄化转换，将浮点数转换为整数
```

隐式类型转换：指在不需要显式指定类型转换的情况下，由编译器自动进行的类型转换。可能导致代码的可读性变差，也可能在某些情况下引入一些意想不到的问题
```c
int i = 10;
double d = i; // 这里会发生隐式类型转换，将整数转换为浮点数
```